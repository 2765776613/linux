# Linux基本指令

### 指令与选项

> Linux 通用的格式：
>
> #指令主体  [选项] [操作对象]
>
> 指令只允许有一个     但是一个指令可以包含多个选项，也可以是多个操作对象

### 基础指令

1. ls指令

   + 用法1：#ls                           列出当前工作目录下的所有文件/文件夹的名称
   + 用法2：#ls 路径                  列出指定路径下的所有文件/文件夹的名称
   + 用法3：#ls 选项 路径          在列出指定路径下的文件/文件夹名称，并以指定的格式进行显示
     + #ls -l 路径                -l 表示list，表示以详细列表的形式进行展示
     + #ls -la 路径              -a 表示显示所有的文件/文件夹(包含隐藏的)
   + 用法4：#ls -lh 路径        -h 表示以可读性较高的形式进行展示

   **补充**：ls列出的结果颜色说明，其中蓝色的名称表示文件夹，黑色的表示文件，绿色的权限为拥有过所有权限

2. pwd指令

   + 用法：#pwd                     (print working directory)打印当前工作目录

3. cd指令

   + 作用：用于切换当前的工作目录 （change directory)
   + 用法：#cd 路径

   **补充**：在linux中有一个特殊的符号~，表示当前用户的家目录。

4. mkdir指令

   + 作用：创建目录（make directory)
   + 用法1：#mkdir 路径 [可以是文件夹名称，也可以是包含文件夹名称的一个完整路径]  
   + 用法2：#mkdir -p 路径           当一次性创建多层不存在的目录的时候，添加-p参数，否则会报错
   + 用法3：#mkdir 路径1 路径2 路径3 ....   一次性创建多个目录

5. touch指令

   + 作用：创建文件
   + 用法1：#touch 路径[可以是文件名称，也可以是包含文件名称的一个完整路径]  
   + 用法2：#touch 路径1 路径2 路径3 ....   一次性创建多个文件

6. cp指令

   + 作用：复制文件/文件夹到指定的位置（copy）
   + 用法1：#cp 被复制的文档路径 文档保存的路径

   **注意1**：linux在复制过程中是可以重新对新位置的文件进行重命名的。

   **注意2**：当使用cp命令进行文件夹复制操作的时候需要添加选项<font color='red'>-r</font>【表示递归复制】

7. mv指令

   + 作用：移动文档到新的位置（move）
   + 用法：#mv 需要移动的文档路径 文档保存的路径

   <font color='red'>注意：在linux中重命名的指令也是mv，语法和移动语法一样</font>

8. rm命令

   + 作用：删除一个文档（remove）
   + 选项：
     + -f：表示force，带上这个选项，删除的时候就不会有提示，直接删除。
     + -r：删除文件夹的时候，需要带上这个选项。

   **补充**：linux*表示匹配任意以linux开头的字符。  *是通配符

9. vim命令（后面再聊）

   + 作用：是一款文本编辑器，打开一个文件
   + 用法1：#vim 文件的路径

   **补充**：退出打开的文件：在没有按键的情况下，按shift+英文冒号，输入q，按下回车即可

10. 输出重定向

    + 作用：一般命令的输出都会显示在终端中，有时候需要将一些命令的执行结果想要保存到文件中进行后续的分析/统计，这时候需要使用输出重定向技术。
    + 用法：#指令 >/>> 路径
    + 两种方式：
      + \>:覆盖输出，会覆盖原先的文件内容
      + \>>:追加输出，不会覆盖原始文件内容，会在原始内容末尾继续添加

11. cat指令

    + 作用1：cat有<font color='red'>直接</font>打开一个文件的功能；
    + 语法1：#cat 文件路径
    + 作用2：cat还可以对文件进行合并
    + 语法2：#cat 待合并的文件路径1 待合并的文件路径2 ... 文件路径n  >  合并之后的文件路径

    **注意**：此命令是和上一个命令配合使用的

### 进阶指令


1. df指令

   + 作用：查看磁盘的空间
   + 用法：#df -h   以可读性较高的形式展示大小

2. free指令

   + 作用：查看内存使用情况
   + 用法：#free -m   -m表示以mb单位查看

3. head指令

   + 作用：查看一个文件的前n行，如果不指定n，则默认显示前10行
   + 用法：#head -n 文件路径  【n表示数字】

4. tail指令

   + 作用1：查看一个文件的末n行，如果不指定n，则默认显示后10行
   + 用法1：#tail -n 文件路径     【n表示数字】
   + 作用2：可以来查看一个文件的动态变化<font color='red'>（变化的内容不能是手动添加的）</font>
   + 用法2：#tail -f 文件路径    该命令一般是用来查看系统日志

5. less指令

   + 作用：查看文件：以较少的内容进行输出，按下辅助功能键查看更多
   + 用法：#less 需要查看文件的路径

6. wc指令

   + 作用：统计文件内容信息（包括行数、单词数、字节数）
   + 用法：#wc [-l|-w|-c] 需要统计的文件的路径
     + -l：表示lines，行数
     + -w：表示words，单词数    依照空格来判断单词数量
     + -c：表示bytes，字节数

7. <font color='red'>date指令（重点）</font>

   + 作用1：表示操作时间日期（读取、设置）   <font color='red'>shell脚本会常用</font>
   + 语法1：#date                输出的形式：2020年  3月  8日   星期日  18:52:24  CST
   + 语法2：#date +%F （等价于#date "+%Y-%m-%d")       输出的形式：2020-03-08
   + 语法3：#date  "+%F  %T"（等价于#date "+%Y-%m-%d %H:%M:%S")       输出的形式：2020-03-08  18:52:24
   + 作用2：获取之前或者之后的某个时间（备份）
   + 语法4：#date -d "-1 day"  "+%Y-%m-%d %H:%M:%S"
     + 符号的可选值：-  +
     + 单位的可选值：day  month  year

8. cal指令

   + 作用：用来操作日历的
   + 用法1：#cal 等价于#cal -1      直接输出当前的月份
   + 用法2：#cal -3                          表示输出3个月的日历
   + 用法3：#cal -y  年份                 表示输出某一年份的日历

9. clear/ctrl+L指令

   + 作用：清除终端中已经存在的命令和结果
   + 用法：#clear     或者快捷键 ctrl+L

10. 管道

    + 作用：管道一般可以用于**“过滤”**、“特殊”、“扩展处理”

    + 用法：管道不能单独使用，必须需要配合前面所讲的一些指令一起使用，其作用主要是辅助作用。

    + **管道符：|**

      + 过滤案例：#ls /|<font color='red'>grep</font> y       通过管道查询出根目录下包含“y”字母的文档名称      （重点)

      ```
      针对此命令的说明
      1、以管道作为分界线，前面的命令有个输出，然后输入管道，再输出
      2、grep指令：主要用于过滤
      ```

      + 特殊案例：#cat 路径|less   通过管道的操作方法来实现less的等价效果                 (了解)
      + 扩展处理：#ls /|wc -w         统计根目录下的文档的总个数

### 高级指令


1. hostname指令

   + 作用：操作服务器的主机名（读取）
   + 用法1：#hostname        含义：表示输出完整的主机名
   + 用法2：#hostname -f     含义：表示输出当前主机名中的FQDN（全限定域名）

2. id指令

   + 作用：查看一个用户的一些基本信息（包含用户id、用户组id...)，该指令如果不指定用户则默认当前用户
   + 用法1：#id           默认显示当前执行该命令的用户的基本信息
   + 用法2：#id 用户名      显示指定用户的基本信息

3. whoami指令

   + 作用：显示当前登录的用户名，一般用于shell脚本
   + 用法：#whoami

4. ps -ef 指令（重点）

   + 指令：ps

   + 作用：主要是查看服务器的进程信息

   + 选项含义：

     + -e：等价于“-A",表示列出全部的进程

     + -f：显示全部的列

       + 列的含义

         UID:该进程执行的用户id

         PID:进程id

         PPID:该进程父级进程，如果一个程序的父级进程找不到，该程序的进程称之为僵尸进程

         C:cpu的占用率，其形式为百分率 

   + 案例（100%使用）在ps的结果中过滤出想要查看的进程状态

     <font color="red">#ps -ef|grep 进程名称</font>

5. top指令（重点）

   + 作用：查看服务器的进程占的资源
   + 用法：
     + 进入命令：#top      （动态显示）
     + 退出命令：按下q键

6. du -sh指令

   + 作用：查看目录的真实大小
   + 用法：#du -sh 路径
   + 选项含义：
     + -s：只显示汇总的大小（summary）
     + -h：以较高可读性的形式进行显示

7. find指令

   + 作用：用于查找文件
   + 用法：#find  路径 选项 选项的值
   + 选项含义：
     + -name：按照文档名称进行搜索（支持模糊搜索）
     + -type：按照文档的类型进行搜索
       + 文档类型分为“-”表示文件（在使用时需要用f来替换）,"d"表示文件夹
   + 案例1：使用find来搜索httpd.conf文件
     + #find / -name httpd.conf
   + 案例2：使用find来搜索etc目录下所有的conf后缀文件
     + #find /etc -name *.conf
   + 案例3：使用find来搜索/etc/sane.d/目录下所有的文件
     + #find /etc/sane.d/ -type f
   + 案例4：使用find来搜索/etc目录下所有的文件夹
     + #find /etc -type d

8. service指令（重点）

   + 作用：用于控制一些软件的服务 启动/停止/重启
   + 用法：#service 服务名 start/stop/restart
   + 案例1：需要启动本机安装的Apache（网站服务器软件）
     + #service httpd start
   + 案例2：通过ps命令来检查httpd服务是否启动
     + #ps -ef|grep httpd

9. kill命令

   + 作用：表示杀死进程       （当遇到僵尸进程或者处于某些原因需要关闭进程的时候）
   + 用法1：#kill  进程PID      （配合ps命令一起使用）
   + 用法2：#killall 进程名称

10. ifconfig指令

    + 作用：用于操作网卡相关的指令
    + 用法：#ifconfig     （获取网卡信息）

11. reboot指令

    + 作用：重新启动计算机
    + 用法1：#reboot               重启
    + 用法2：#reboot  -w         模拟重启，但是不重启（只写关机与开机的日志信息）

12. shutdown指令（慎用）

    + 作用：关机             
    + 用法：#shutdown -h now  表示立即关机  或者  #shutdown -h 20:30  表示定时关机

    > 除了shutdown关机以外，还有以下几个关机命令：
    >
    > #init 0
    >
    > #halt
    >
    > #poweroff

13. uptime指令

    + 作用：输出计算机的持续在线时间（计算机从开机到现在运行的时间）
    + 用法：#uptime

14. uname指令

    + 作用：获取计算机操作系统相关信息
    + 用法1：#uname     获取操作系统的类型
    + 用法2：#uname -a   all，表示获取系统的全部信息(类型、全部主机名、内核版本、发布时间、开源计划)

15. netstat  -tnlp指令

    + 作用：查看网络的连接状态
    + 用法：#netstat -tnlp
    + 选项说明
      + -t：表示只列出tcp协议的连接
      + -n：表示将地址从字母组合转化成ip地址，将协议转换成端口号来显示
      + -l：表示过滤出“state(状态)”列中其值为LISTEN（监听）的连接
      + -p：表示显示发起连接的进程pid和进程名称

16. man指令

    + 作用：manual，手册（包含了linux中全部命令的手册）
    + 用法：#man  命令     （退出：按下q键）
